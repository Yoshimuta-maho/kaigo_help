<!-- app/views/users/messages/chat.html.erb -->

<div class="container mt-4">
  <div class="card p-4">
    <h2>グループチャット</h2>
    
    <!-- メッセージの表示 -->
    <div id="messages">
      <% if @messages.present? %>
        <% @messages.each do |message| %>
          <div class="message">
            <strong><%= message.user.name %>:</strong>
            <p><%= message.content %></p>
          </div>
        <% end %>
      <% else %>
        <p>まだメッセージはありません。</p>
      <% end %>
    </div>
    
    <!-- メッセージ送信フォーム -->
    <%= form_with model: @message, url: group_messages_path(@group), method: :post, local: true do |form| %>
      <div class="form-group">
        <%= form.text_area :content, class: 'form-control', rows: 3, placeholder: "メッセージを入力" %>
      </div>
      <%= form.submit '送信', class: 'btn btn-primary' %>
    <% end %>
  </div>
</div>
